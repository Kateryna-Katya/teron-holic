{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * TERON-HOLIC.BLOG - ОФИЦИАЛЬНЫЙ СКРИПТ ПЛАТФОРМЫ (2026)\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n  // Используем Lucide для современных минималистичных иконок\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // 2. ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ\n  const header = document.querySelector('.header');\n  const burger = document.querySelector('.header__burger');\n  const mobileNav = document.querySelector('.mobile-nav');\n  const closeNav = document.querySelector('.mobile-nav__close');\n  const navLinks = document.querySelectorAll('.header__link, .mobile-nav__link');\n  const phoneInput = document.getElementById('phoneInput');\n  const contactForm = document.getElementById('contactForm');\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookies = document.getElementById('acceptCookies');\n\n  // 3. ЛОГИКА МОБИЛЬНОГО МЕНЮ\n  const toggleMenu = () => {\n      mobileNav.classList.toggle('mobile-nav--active');\n      document.body.style.overflow = mobileNav.classList.contains('mobile-nav--active') ? 'hidden' : '';\n  };\n\n  if (burger) burger.addEventListener('click', toggleMenu);\n  if (closeNav) closeNav.addEventListener('click', toggleMenu);\n\n  // Закрытие при клике на ссылку (для якорной навигации)\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (mobileNav.classList.contains('mobile-nav--active')) {\n              toggleMenu();\n          }\n      });\n  });\n\n  // 4. ЭФФЕКТЫ ПРИ СКРОЛЛЕ (HEADER)\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 60) {\n          header.classList.add('header--scrolled');\n      } else {\n          header.classList.remove('header--scrolled');\n      }\n  });\n\n  // 5. ПРОДВИНУТЫЕ АНИМАЦИИ (GSAP + ScrollTrigger)\n  if (typeof gsap !== 'undefined') {\n      gsap.registerPlugin(ScrollTrigger);\n\n      // Фикс разрыва слов: используем SplitType с группировкой по словам и символам\n      const heroTitle = new SplitType('.hero__title', {\n          types: 'words,chars',\n          tagName: 'span'\n      });\n\n      // Анимация появления заголовка Hero\n      gsap.from(heroTitle.chars, {\n          opacity: 0,\n          y: 50,\n          rotateX: -90,\n          stagger: 0.02,\n          duration: 1.2,\n          ease: \"expo.out\"\n      });\n\n      // Анимация контента Hero (текст и кнопки)\n      gsap.from('.hero__badge, .hero__text, .hero__btns', {\n          opacity: 0,\n          y: 30,\n          duration: 1,\n          delay: 0.5,\n          stagger: 0.2,\n          ease: \"power3.out\"\n      });\n\n      // Появление секций при скролле (Scroll Reveal)\n      const revealElements = document.querySelectorAll('.benefit-card, .innovation-item, .blog-card, .section-header');\n\n      revealElements.forEach((el) => {\n          gsap.from(el, {\n              scrollTrigger: {\n                  trigger: el,\n                  start: \"top 85%\", // Анимация начнется, когда элемент на 85% в поле видимости\n                  toggleActions: \"play none none none\"\n              },\n              opacity: 0,\n              y: 40,\n              duration: 0.8,\n              ease: \"power2.out\"\n          });\n      });\n\n      // Интерактивный параллакс для декоративного круга в Hero\n      gsap.to('.hero__circle', {\n          scrollTrigger: {\n              trigger: '.hero',\n              start: 'top top',\n              end: 'bottom top',\n              scrub: true\n          },\n          y: 200,\n          scale: 1.2,\n          opacity: 0.5\n      });\n  }\n\n  // 6. ВАЛИДАЦИЯ ФОРМЫ И КАПЧА\n  if (phoneInput) {\n      // Разрешаем только цифры в поле телефона\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n  }\n\n  // Генерация математической капчи\n  const num1 = Math.floor(Math.random() * 9) + 1;\n  const num2 = Math.floor(Math.random() * 9) + 1;\n  const captchaQuestion = document.getElementById('captchaQuestion');\n  const correctSum = num1 + num2;\n\n  if (captchaQuestion) {\n      captchaQuestion.innerText = `${num1} + ${num2} = ?`;\n  }\n\n  if (contactForm) {\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          const userAnswer = document.getElementById('captchaAnswer').value;\n          const formMessage = document.getElementById('formMessage');\n\n          if (parseInt(userAnswer) !== correctSum) {\n              alert(\"Ошибка: Неверный ответ на математический пример.\");\n              return;\n          }\n\n          // Имитация AJAX-запроса\n          const submitBtn = contactForm.querySelector('button[type=\"submit\"]');\n          submitBtn.disabled = true;\n          submitBtn.innerText = \"Отправка...\";\n\n          setTimeout(() => {\n              formMessage.style.display = 'block';\n              formMessage.innerHTML = `<div style=\"color: #4ade80; background: rgba(74, 222, 128, 0.1); padding: 15px; border-radius: 10px; margin-top: 20px;\">\n                  ⚡ Спасибо! Ваш запрос принят. Мы свяжемся с вами в ближайшее время.\n              </div>`;\n\n              contactForm.reset();\n              submitBtn.disabled = false;\n              submitBtn.innerText = \"Отправить запрос\";\n\n              // Убираем сообщение через 7 секунд\n              setTimeout(() => { formMessage.innerHTML = \"\"; }, 7000);\n          }, 1500);\n      });\n  }\n\n  // 7. ЛОГИКА COOKIE POPUP\n  const COOKIE_KEY = 'teron_holic_cookies_accepted';\n\n  if (cookiePopup && !localStorage.getItem(COOKIE_KEY)) {\n      // Показываем плавно через 3 секунды после загрузки\n      setTimeout(() => {\n          cookiePopup.style.display = 'block';\n          gsap.fromTo(cookiePopup, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 0.6 });\n      }, 3000);\n  }\n\n  if (acceptCookies) {\n      acceptCookies.addEventListener('click', () => {\n          localStorage.setItem(COOKIE_KEY, 'true');\n          gsap.to(cookiePopup, {\n              opacity: 0,\n              y: 50,\n              duration: 0.4,\n              onComplete: () => cookiePopup.style.display = 'none'\n          });\n      });\n  }\n\n  // 8. ПЛАВНЫЙ СКРОЛЛ К ЯКОРЯМ\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n          const targetId = this.getAttribute('href');\n          if (targetId === '#') return;\n\n          e.preventDefault();\n          const targetElement = document.querySelector(targetId);\n\n          if (targetElement) {\n              const headerOffset = 80;\n              const elementPosition = targetElement.getBoundingClientRect().top;\n              const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n              window.scrollTo({\n                  top: offsetPosition,\n                  behavior: \"smooth\"\n              });\n          }\n      });\n  });\n});"],"names":["header","burger","mobileNav","closeNav","navLinks","phoneInput","contactForm","cookiePopup","acceptCookies","toggleMenu","link","heroTitle","el","e","num1","num2","captchaQuestion","correctSum","userAnswer","formMessage","submitBtn","COOKIE_KEY","anchor","targetId","targetElement","offsetPosition"],"mappings":"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"}